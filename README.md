# burpsuite-nix

Declarative Burp Suite configuration for Nix and Home Manager — including automatic installation and configuration of Burp extensions (BApps), Jython, JRuby, and Burp configuration files.

`burpsuite-nix` makes Burp Suite fully reproducible:
extensions, interpreters, UI settings, and Burp’s `UserConfig.json` are all generated automatically through Nix.

## Features

1. **Home Manager module for Burp Suite**

- Declarative UserConfigCommunity.json / UserConfigPro.json generation

- Deep merging of your overrides with Burp defaults

- Automatic dark mode support

- Multiple edition configs (Community, Pro)

2. **Fully packaged Burp extensions (BApps)**

- Managed and installed through Nix

- Extensions are installed into your profile automatically

- Each extension exposes metadata through passthru.burp

3. **Automatic interpreter setup**

- If any extension requires Python, Jython is installed and configured

- If any extension requires Ruby, JRuby is installed and configured

- Burp receives correct interpreter JAR paths automatically

4. **Reproducible & portable**

- All config JSON files are fully generated by Nix

- Zero runtime patching or mutating files in $HOME

- No GUI config needed — all Burp settings are declarative

## Module Documentation

The Documentation for each Module Setting can be found here: [nixos-options.md](./nixos-options.md)

## Usage

Note that this Module does not install Burpsuite, this needs to be done separately!

Import this Repo as a Flake Input:

```nix
burpsuite-nix = {
    url = "github:Red-Flake/burpsuite-nix";
    inputs.nixpkgs.follows = "nixpkgs";
};
```

Then you need to import the Module in your Home-Manager Configuration and configure it:

```nix
imports = [ inputs.burpsuite-nix.homeManagerModules.default ];

programs.burp = {
    enable = true;

    extensions = [
        # Loaded by default
        inputs.burpsuite-nix.packages.${pkgs.system}."403-bypasser"
        inputs.burpsuite-nix.packages.${pkgs.system}.adhoc-payload-processors
        inputs.burpsuite-nix.packages.${pkgs.system}.buby
        inputs.burpsuite-nix.packages.${pkgs.system}.dradis-framework
        inputs.burpsuite-nix.packages.${pkgs.system}.file-upload-traverser

        # Installed but not loaded
        {
            package = inputs.burpsuite-nix.packages.${pkgs.system}.js-miner;
            loaded = false;
        }
    ];

    # Define which file will be installed, defaults to community
    edition = [
    "Community"
    "Pro"
    ];


    # Settings that are deep-merged into the default config
    settings = {
        # Enable Dark Mode
        display.user_interface.look_and_feel = "Dark";

    };
};
```

## TODO

- [] Add a Github Action Workflow that updates the Extensions
- [] Improve the flake.nix, allow multiple architectures
- [] Add integration tests
- [] Only prefetch changed Extensions, not all Extensions on a Change
- [] Explore compiling the Extensions from Source
- [] reimplement javas cursed directory name generation to declaratively modify burp extension settings
